<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="Descubre nuestra herrería y carpintería residencial en la Comarca Lagunera. Ofrecemos diseño y fabricación de muebles a medida, instalación de estructuras metálicas y más. ¡Contáctanos para un presupuesto personalizado!">
    <meta name="keywords" content="herrería, carpintería, residencial, muebles, diseño">
    <meta name="author" content="Nombre del Autor">
    <title>Herrería y Carpintería - Nombre de la Empresa</title>
    <script src="scripts/main.js" defer></script>
    <script src="nustros-trabajos.js" defer></script>

    <!-- Enlace al archivo CSS -->
    <link rel="stylesheet" href="styles/style.css">
    <!-- Incluir jQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-9WLJQEC2NC"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-9WLJQEC2NC');
    </script>

</head>

<body>
    <!-- Encabezado del sitio -->
    <div class="header"></div>

    <script>

        // Realiza la solicitud para obtener el contenido de 'header.html'
        fetch('header.html')
            .then(response => response.text())  // Convierte la respuesta en texto (contenido HTML)
            .then(data => {
                // Inserta el contenido dentro del <div> con la clase 'header'
                document.querySelector('.header').innerHTML = data;

                // Selecciona el enlace de "Inicio" usando su ID
                const inicioLink = document.getElementById('trabajos');

                // Cambia el color del enlace a amarillo y lo pone en negrita
                if (inicioLink) {
                    inicioLink.style.color = "#1a9c74";
                    inicioLink.style.fontWeight = "bold"; // Añade negrita para mayor énfasis
                }
            });

    </script>

    <!-- Sección principal -->


    <main>

        <section id="nuestros-trabajos">


            <div id="div-nuestros-trabajos">
                <h2>Nuestros Trabajos</h2>
                <p>Te presentamos una selección de nuestros proyectos en herrería y carpintería residencial.</p>
                <p>Haz clic en las imágenes para ver más detalles o contáctanos para discutir tu proyecto.</p>
            </div>


            <style>
                #div-nuestros-trabajos {
                    text-align: center;
                    /* Centra el texto */
                    max-width: 600px;
                    /* Limita el ancho del contenido */
                    margin: 0 auto;
                    /* Centra el contenedor */
                    opacity: 0;
                    transition: opacity 1s ease-in-out;
                }

                #div-nuestros-trabajos.show {
                    opacity: 1;
                }

                #div-nuestros-trabajos h2 {
                    font-size: 1.5em;
                    margin-bottom: 10px;
                    color: #007BFF;
                    /* Color destacado para el título */
                }

                #div-nuestros-trabajos p {
                    font-size: 1em;
                    color: #333;
                    margin-bottom: 10px;
                }
            </style>


            <hr style="border: 2px solid #ccc; margin: 20px 0;">


            <div id="menu-desplegable">
                <label for="menu">Selecciona una categoría:</label>

                <select id="menu">
                    <optgroup label="Estructuras Metálicas">
                        <option value="escaleras">Escaleras</option>
                        
                    </optgroup>
                    <optgroup label="Puertas">
                        <option value="puerta1">Puerta 1</option>

                    </optgroup>
                    <optgroup label="Ventanas">
                        <option value="ventana1">Ventana 1</option>

                    </optgroup>
                    <optgroup label="Toldos">
                        <option value="toldo1">Toldo 1</option>

                    </optgroup>
                </select>
            </div>

            <!--HACK gallery container-->
            <div class="gallery-container">
                <div class="gallery">
                    <img src="src/porton_negro.jpg" alt="Porton negro herreria trabajos torreon Coahuila" >
                    <img src="src/porton_negro.jpg" alt="Imagen 2" >
                    <img src="src/porton_negro.jpg" alt="Imagen 3" >
                </div>
                <button class="nav-button prev" onclick="moveSlide(-1)">&#10094;</button>
                <button class="nav-button next" onclick="moveSlide(1)">&#10095;</button>
            </div>

          


            <style>
                #nuestros-trabajos {
                    padding: 20px;
                    background-color: #f9f9f9;
                    border-radius: 8px;
                    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
                    margin: 20px 0;
                }

                #nuestros-trabajos h2 {
                    font-size: 2em;
                    color: #333;
                    margin-bottom: 10px;
                }

                #nuestros-trabajos p {
                    font-size: 1.1em;
                    color: #555;
                    line-height: 1.6;
                }

                #menu-desplegable {
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    justify-content: center;
                    height: 20vh;
                    /* Asegura que el contenido esté centrado verticalmente */
                    background-color: white;
                    /* Fondo blanco */
                }

                #menu-desplegable label {
                    font-size: 1.2em;
                    margin-bottom: 10px;
                    /* Espacio entre el label y el select */
                    color: #333;
                    /* Color del texto */
                }

                #menu {
                    width: 100%;
                    max-width: 300px;
                    /* Controla el ancho del menú */
                    padding: 10px;
                    font-size: 1em;
                    border: 2px solid #007BFF;
                    /* Borde azul */
                    border-radius: 5px;
                    background-color: #f8f9fa;
                    /* Fondo gris claro */
                    color: #333;
                }

                #menu optgroup {
                    font-weight: bold;
                    color: #555;
                    /* Color de los optgroups */
                }

                #menu option {
                    padding: 5px;
                    color: #333;
                }

                /*HACK css gallery container*/
                /* Proporción para las imágenes de la galería */
                .gallery img {
                    width: 100%;
                    height: auto;
                    /* Mantiene la proporción */
                    object-fit: cover;
                    /* Asegura que la imagen se recorte adecuadamente dentro del contenedor */
                    cursor: pointer;
                    /* Cursor para indicar clic */
                    transition: transform 0.2s;
                    /* Suaviza el zoom */
                }

                .gallery-container {
                    position: relative;
                    width: 100%;
                    max-width: 800px;
                    margin: auto;
                    overflow: hidden;
                }

                .gallery {
                    display: flex;
                    transition: transform 0.5s ease;
                }

                /* Botones de navegación */
                .nav-button {
                    position: absolute;
                    top: 50%;
                    background-color: rgba(0, 0, 0, 0.5);
                    color: white;
                    padding: 10px;
                    cursor: pointer;
                    border-radius: 50%;
                    font-size: 1.5em;
                }

                .nav-button.prev {
                    left: 10px;
                }

                .nav-button.next {
                    right: 10px;
                }

            
              

               

             
            </style>
           
        
        </div>


            <script>// Escuchar cambios en el menú desplegable
                document.getElementById("menu").addEventListener("change", function() {
                    // Obtener el valor seleccionado
                    const categoriaSeleccionada = this.value;
                
                    // Llamar a la función para cargar imágenes según la categoría seleccionada
                    cargarImagenes(categoriaSeleccionada);
                });
                
                // Función para cargar imágenes dinámicamente
                function cargarImagenes(categoria) {
                    // Seleccionar el contenedor de la galería
                    const galleryContainer = document.getElementById("gallery-container");
                    
                    // Limpiar el contenedor antes de cargar nuevas imágenes
                    galleryContainer.innerHTML = '';
                
                    // Crear un array con las URLs de las imágenes basadas en la categoría
                    let imagenes = [];
                
                    if (categoria === "estructura1") {
                        imagenes = [
                            'estructura1_img1.jpg',
                            'estructura1_img2.jpg',
                            'estructura1_img3.jpg'
                        ];
                    } else if (categoria === "puerta1") {
                        imagenes = [
                            'puerta1_img1.jpg',
                            'puerta1_img2.jpg'
                        ];
                    } else if (categoria === "ventana1") {
                        imagenes = [
                            'ventana1_img1.jpg',
                            'ventana1_img2.jpg'
                        ];
                    } else if (categoria === "toldo1") {
                        imagenes = [
                            'toldo1_img1.jpg',
                            'toldo1_img2.jpg'
                        ];
                    }
                
                    // Insertar las imágenes en el contenedor de la galería
                    imagenes.forEach(function(url) {
                        const imgElement = document.createElement("img");
                        imgElement.src = url;
                        imgElement.alt = categoria + ' image';
                        imgElement.style.width = '200px'; // Ajusta el tamaño de las imágenes según sea necesario
                        imgElement.style.margin = '10px';
                        
                        galleryContainer.appendChild(imgElement);
                    });
                }
                </script>


            <script>
                // Controla el desplazamiento de la galería de imágenes hacia adelante o atrás.
                // La función moveSlide recibe una dirección (-1 para retroceder y 1 para avanzar) y ajusta el índice actual de la imagen.
                // Calcula el desplazamiento adecuado basado en el índice actual para mover la galería horizontalmente.
              
                // Controla el desplazamiento de la galería (prev y next)
                let currentIndex = 0;

                function moveSlide(direction) {
                    const gallery = document.querySelector('.gallery');
                    const totalImages = document.querySelectorAll('.gallery img').length;
                    currentIndex = (currentIndex + direction + totalImages) % totalImages;
                    const offset = -currentIndex * 100;
                    gallery.style.transform = `translateX(${offset}%)`;
                }

            </script>



    </main>

    <!-- Pie de página -->
    <footer id="hola">
        <p>&copy; 2024 Herrería y Carpintería. Todos los derechos reservados.</p>
    </footer>

    <!-- Enlace al archivo JS -->
    <script src="scripts/main.js"></script>

    <script>

    </script>

    <script>
        // Script para gestionar el comportamiento del header en función del desplazamiento del scroll.
        // Agrega o quita la clase 'scrolled' al header cuando el usuario se desplaza más de 50 píxeles hacia abajo.
        // Esto permite modificar el estilo del header, por ejemplo, hacer que se contraiga o cambie de color al hacer scroll.
        document.addEventListener("DOMContentLoaded", function () {
            var header = document.querySelector('.header');
            var headerContent = document.querySelector('.header-content'); // Elemento opcional para contenido adicional del header

            // Detecta el desplazamiento del scroll en la ventana
            window.addEventListener('scroll', function () {
                if (window.scrollY > 50) { // Si el desplazamiento es mayor a 50 píxeles
                    header.classList.add('scrolled'); // Aplica la clase 'scrolled' al header
                } else {
                    header.classList.remove('scrolled'); // Elimina la clase 'scrolled' si se vuelve al principio
                }
            });
        });




        // scrip para arrastrar a la izq y derecha la siguiente imagen 
        let currentIndex2 = 0;
        let startX = 0;
        let endX = 0;

        function moveSlide(direction) {
            const gallery = document.querySelector('.gallery');
            const totalImages = document.querySelectorAll('.gallery img').length;
            currentIndex2 = (currentIndex2 + direction + totalImages) % totalImages;
            const offset = -currentIndex2 * 100;
            gallery.style.transform = `translateX(${offset}%)`;
        }

        document.querySelector('.gallery-container').addEventListener('touchstart', function (e) {
            startX = e.touches[0].clientX;  // Captura la posición inicial del toque
        });

        document.querySelector('.gallery-container').addEventListener('touchmove', function (e) {
            endX = e.touches[0].clientX;  // Captura la posición en movimiento
        });

        document.querySelector('.gallery-container').addEventListener('touchend', function (e) {
            const threshold = 50;  // Umbral mínimo para considerar un swipe
            if (startX - endX > threshold) {
                moveSlide(1);  // Desplaza hacia la derecha
            } else if (endX - startX > threshold) {
                moveSlide(-1);  // Desplaza hacia la izquierda
            }
        });

    </script>





</body>

</html>